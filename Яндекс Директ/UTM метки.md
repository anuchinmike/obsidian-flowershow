## Динамические параметры Директа

В таблице ниже приведен список значений для динамических параметров Директа, которые мы рекомендуем использовать для сбора расширенной статистики.

|   |   |   |
|---|---|---|
|**Значение для вставки в ссылку**|**Описание**|**Передаваемое значение**|
|`{ad_id}` или `{banner_id}`|Идентификатор объявления|число|
|`{campaign_name}`|Название кампании|текст, до 255 символов|
|`{campaign_name_lat}`|Транслитерированное название кампании|текст латиницей, до 255 символов|
|`{campaign_type}`|Тип кампании|`type1` — Единая перфоманс-кампания;<br><br>`type2` — Реклама мобильных приложений (тип кампании больше не поддерживается);<br><br>`type3` — Динамические объявления (тип кампании больше не поддерживается);<br><br>`type4` — Смарт-баннеры (тип кампании больше не поддерживается);<br><br>`type6` — Баннер на поиске|
|`{campaign_id}`|Идентификатор рекламной кампании|число|
|`{creative_id}`|Идентификатор креатива из конструктора|число|
|`{device_type}`|Тип устройства, на котором произведен показ|`desktop` — десктоп;<br><br>`mobile` — мобильный телефон;<br><br>`tablet` — планшет|
|`{gbid}`|Идентификатор группы|число|
|`{keyword}`|Ключевая фраза, по которой было показано объявление (текстово-графическое в ЕПК или реклама мобильных приложений)|текст ключевой фразы без минус-слов|
|`{phrase_id}`|Идентификатор ключевой фразы для текстово-графических объявлений в ЕПК или рекламы мобильных приложений|число|
|`{retargeting_id}`|Идентификатор условия нацеливания на аудиторию, связывающего группу объявлений с условиями ретаргетинга и подбора аудитории или интересами к мобильным приложениям. Подробнее об условии нацеливания на аудиторию в [документации API Директа](https://yandex.ru/dev/direct/doc/dg/objects/audience-target.html)|число|
|`{coef_goal_context_id}`|Идентификатор корректировки ставок для условия ретаргетинга и подбора аудитории|число|
|`{match_type}`|Тип соответствия условия показа и поискового запроса|`rm` — автотаргетинг;<br><br>`syn` — семантическое соответствие;|
|`{matched_keyword}`|Подобранная фраза (используйте вместе с `{match_type}`)|текст подобранной фразы или семантического соответствия|
|`{adtarget_name}`|Условие нацеливания|название условия нацеливания|
|`{adtarget_id}`|Идентификатор условия нацеливания|число|
|`{position}`|Точная позиция объявления в блоке. Передает только номер позиции, по которому невозможно определить тип блока, где показано объявление (используйте вместе с `{position_type}`)|номер позиции в блоке (например, `1`);<br><br>`0` — объявление было показано в сетях (РСЯ или внешние сети)|
|`{position_type}`|Тип блока, если показ произошел на странице с результатами поиска Яндекса|`premium` — премиум-показы;<br><br>`dynamic_places` — динамические места;<br><br>`other` — блок справа или блок внизу;<br><br>`none` — объявление было показано в сетях (РСЯ или внешние сети)|
|`{source}`|Место показа|домен площадки (например, `travel.ru`) — при показе в сетях (РСЯ или внешние сети);<br><br>`none` — при показе на поиске Яндекса<br><br>При показе на поисковых площадках РСЯ может быть передан как домен, так и значение `none`.|
|`{source_type}`|Тип площадки, на которой произведен показ объявления|`search` — поиск;<br><br>`context` — сети|
|`{region_name}`|Регион, в котором было показано объявление|название региона|
|`{region_id}`|Идентификатор региона, в котором было показано объявление|число|
|`{yclid}`|Идентификатор клика по рекламному объявлению Директа. Используется для отслеживания источника трафика на сайт. Подробнее в [Справке Метрики](https://yandex.ru/support/metrica/data/get-yclid.html)|число|

Ссылка, в которой используются динамические параметры, выглядит так:

```
utm_source=yandex&utm_medium=cpc&utm_campaign={campaign_id}&utm_content={ad_id}&utm_term={keyword}&type={source_type}&source={source}&block={position_type}&pos={position}&key={keyword}&campaign={campaign_id}&name={campaign_name}&name_lat={campaign_name_lat}&retargeting={retargeting_id}&ad={ad_id}&phrase={phrase_id}&gbid={gbid}&device={device_type}&region={region_id}&region_name={region_name}
```


Примечание

В [быстрых ссылках](https://yandex.ru/support/direct/ru/efficiency/quick-links) подстановка значений параметров `{campaign_id}`, `{ad_id}`, `{banner_id}`, `{phrase_id}` гарантируется только при наличии этих же параметров в ссылке самого объявления.

**UTM-метки можно использовать совместно с динамическими параметрами Директа**

```
utm_source={source}&utm_medium=cpc&utm_campaign={campaign_id}&utm_content={position_type}.{position}&utm_term={keyword}
```

Для метки `utm_content` можно задать несколько параметров через `|` или `.` Например, `utm_content={position_type}.{position}`.

```
params = {
    "utm_source": "yandex",
    "utm_medium": "cpc",
    "utm_campaign": "{campaign_id}",
    "utm_content": "{ad_id}",
    "utm_term": "{keyword}",
    "type": "{source_type}",
    "source": "{source}",
    "block": "{position_type}",
    "pos": "{position}",
    "key": "{keyword}",
    "campaign": "{campaign_id}",
    "name": "{campaign_name}",
    "name_lat": "{campaign_name_lat}",
    "retargeting": "{retargeting_id}",
    "ad": "{ad_id}",
    "phrase": "{phrase_id}",
    "gbid": "{gbid}",
    "device": "{device_type}",
    "region": "{region_id}",
    "region_name": "{region_name}"
}

```
